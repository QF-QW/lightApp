<script>
    // url: "http://47.100.28.180:8083/lightapp/Login/GetUserJsonServlet.do",
    $(function (e) {
        $.ajax({
            url: "/lightapp/Login/GetUserJsonServlet.do",
            dataType: "json",
            async: true,
            success: function (result) {
                /*初始化数据*/
                window.user = result


                window.friend = JSON.parse('[{"yb_usernick":"zhw","yb_userhead":"http://img02.fs.yiban.cn/40976219/avatar/user/200","yb_username":"zhw","yb_userid":"40976219","yb_sex":"M","yb_useractive":"一般"},{"yb_usernick":"易班1605322190","yb_userhead":"http://img02.fs.yiban.cn/46453182/avatar/user/200","yb_username":"易班1605322190","yb_userid":"46453182","yb_sex":"M","yb_useractive":"一般"}]')

                /*home、active*/
                $(".head-search .head").css("backgroundImage", "url(" + window.user.headUrl + ")")
                for (i = 0; i < window.friend.length; i++) {
                    window.friendSwiper.appendSlide('<div class="swiper-slide" style="background: url(' + window.friend[i].yb_userhead + ');background-size: cover"></div>'); //加到Swiper的最后
                }

                /*表单用户头像和名字[create]*/
                $(".create .user .header").css("backgroundImage", "url(" + window.user.headUrl + ")")
                $(".create .user .createUser").val(user.nickName)
                $(".create .user .createId").val(user.id)

                /*活动创建表单初始化*/
                $(".active-publish .user .header").css("backgroundImage", "url(" + window.user.headUrl + ")")
                /*隐藏表单*/
                $("#userId").val(user.id)
                /*创建用户名*/
                $(".active-publish .user .user-name").val(user.nickName)


            }
        })
    })

</script>

<div class="home activeList">
    <div class="head-friend">
        <form class="head-search">
            <div class="head"></div>


            <input type="text" class="search" placeholder="请输入你要查找的信息">
            <div class="svg-background scanning">
                <svg t="1646641750699" class="icon" viewBox="0 0 1024 1024" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" p-id="6638" width="0.8rem" height="0.8rem">
                    <path d="M573.400615 909.193846c-58.683077 41.984-67.268923 100.785231-67.347692 101.060923 0.354462 0.078769-7.876923-58.486154-66.323692-100.312615C268.406154 818.136615 39.384615 653.942154 39.384615 471.433846 39.384615 211.101538 248.32 0 506.092308 0 763.825231 0 972.8 211.062154 972.8 471.433846c0 182.390154-233.038769 376.123077-399.399385 437.76z"
                          fill="#FFFFFF" fill-opacity=".5" p-id="6639"></path>
                    <path d="M572.652308 158.759385c0-37.179077-29.932308-67.347692-66.678154-67.347693-36.864 0-66.678154 30.168615-66.678154 67.347693v336.738461c0 37.218462 29.814154 67.347692 66.678154 67.347692 36.785231 0 66.638769-30.129231 66.638769-67.347692v-336.738461zM505.974154 621.725538c-36.864 0-66.678154 30.129231-66.678154 67.347693 0 37.179077 29.814154 67.347692 66.678154 67.347692 36.785231 0 66.638769-30.168615 66.638769-67.347692 0-37.218462-29.853538-67.347692-66.638769-67.347693z"
                          fill="#FFFFFF" p-id="6640"></path>
                    <path d="M160.019692 200.743385v655.556923c0 1.378462 1.181538 2.520615 2.599385 2.520615h730.781538c1.417846 0 2.599385-1.142154 2.599385-2.520615V200.743385a2.599385 2.599385 0 0 0-2.599385-2.56H162.619077a2.599385 2.599385 0 0 0-2.599385 2.56z m208.029539 279.867077h319.881846c26.545231 0 48.128 21.188923 48.128 47.261538 0 26.072615-21.582769 47.261538-48.128 47.261538H368.049231a47.773538 47.773538 0 0 1-48.088616-47.261538c0-26.072615 21.582769-47.261538 48.088616-47.261538z"
                          fill="#7FBCFF" p-id="6641"></path>
                    <path d="M987.214769 652.327385a38.596923 38.596923 0 0 0-38.596923 38.439384v206.296616c0 26.899692-23.079385 50.018462-50.136615 50.018461h-207.556923a38.636308 38.636308 0 0 0-38.596923 38.478769c0 21.149538 17.408 38.439385 38.596923 38.439385h232.526769a99.485538 99.485538 0 0 0 100.430769-99.918769V690.806154c0-21.188923-15.478154-38.439385-36.627692-38.439385zM922.033231 0.118154h-231.266462a38.518154 38.518154 0 0 0-38.439384 38.478769c0 21.149538 17.250462 38.439385 38.439384 38.439385h206.296616c26.899692 0 50.018462 23.118769 50.018461 50.018461v206.296616c0 21.188923 17.289846 38.478769 38.478769 38.478769A38.518154 38.518154 0 0 0 1024 333.351385V100.036923C1021.912615 44.307692 977.762462 0.118154 921.993846 0.118154zM36.785231 371.672615c21.149538 0 38.596923-17.250462 38.596923-38.439384V126.936615c0-26.899692 23.079385-50.018462 50.136615-50.018461h207.438769a38.596923 38.596923 0 0 0 38.596924-38.478769 38.636308 38.636308 0 0 0-38.596924-38.439385H100.430769A99.485538 99.485538 0 0 0 0 99.918769v231.227077c0.118154-8.822154 15.596308 40.566154 36.785231 40.566154z m298.259692 576.827077H127.606154a51.042462 51.042462 0 0 1-50.136616-50.136615v-207.478154a38.675692 38.675692 0 0 0-38.596923-38.596923 38.675692 38.675692 0 0 0-38.596923 38.596923v232.566154a99.761231 99.761231 0 0 0 100.43077 100.430769h232.566153c21.188923 0 38.596923-17.408 38.596923-38.596923a36.903385 36.903385 0 0 0-36.78523-36.785231z"
                          fill="#007AFF" p-id="6642"></path>
                </svg>
            </div>
            <div class="svg-background mail">
                <svg t="1646642215181" class="icon" viewBox="0 0 1024 1024" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" p-id="11550" width="0.9rem" height="0.9rem">
                    <path d="M466.08 62.56L63.52 344.64a79.776 79.776 0 0 0-34.08 65.44v406.08c0 88.32 71.68 159.84 160 159.84h645.28c88.32 0 160-71.52 160-159.84V410.08c0-26.08-12.64-50.4-34.08-65.44L557.92 62.56a79.872 79.872 0 0 0-91.84 0z"
                          fill="#2166CC" p-id="11551"></path>
                    <path d="M752 928H272c-52.96 0-96-43.04-96-96V416.64c0-52.96 43.04-96 96-96h480c52.96 0 96 43.04 96 96V832c0 53.12-43.04 96-96 96z"
                          fill="#FFFFFF" p-id="11552"></path>
                    <path d="M78.72 931.36A159.04 159.04 0 0 0 189.44 976h645.28c88.32 0 160-71.52 160-159.84V410.08c0-3.04-0.16-6.24-0.64-9.28L78.72 931.36z"
                          fill="#4E8DF6" p-id="11553"></path>
                    <path d="M30.08 400.8c-0.32 3.04-0.64 6.08-0.64 9.28v406.08c0 88.32 71.68 159.84 160 159.84h645.28a159.04 159.04 0 0 0 110.72-44.64L30.08 400.8z"
                          fill="#629FF9" p-id="11554"></path>
                    <path d="M366.72 496.48h-64c-8.8 0-16-7.2-16-16v-63.84c0-8.8 7.2-16 16-16h64c8.8 0 16 7.2 16 16v63.84c0 8.8-7.2 16-16 16z"
                          fill="#4E8DF6" p-id="11555"></path>
                    <path d="M606.72 432.48h-160c-8.8 0-16-7.2-16-16s7.2-16 16-16h160c8.8 0 16 7.2 16 16s-7.2 16-16 16zM702.72 496.48h-256c-8.8 0-16-7.2-16-16s7.2-16 16-16h256c8.8 0 16 7.2 16 16s-7.2 16-16 16z"
                          fill="#E1E1DF" p-id="11556"></path>
                </svg>
            </div>
        </form>
        <div class="friend-list">
            <div class="swiper mySwiper1">

                <div class="swiper-wrapper">

                </div>
            </div>

            <script>
                window.friendSwiper = new Swiper(".mySwiper1", {
                    slidesPerView: 5,
                    spaceBetween: 10,
                    slidesPerGroup: 5,
                    loop: true,
                    loopFillGroupWithBlank: true,
                });
            </script>
        </div>
    </div>


    <div class="society-actpub">
        <div class="society current">
            <svg t="1646872992667" class="icon" viewBox="0 0 1024 1024" version="1.1"
                 xmlns="http://www.w3.org/2000/svg" p-id="4384" width="1.5rem" height="1.5rem">
                <path d="M512.19456 1022.75072c-79.214592 0-147.694592-83.80928-188.069888-229.462016-4.599808-16.863232 5.112832-34.750464 22.488064-39.350272 16.862208-4.601856 34.74944 5.112832 39.350272 21.97504 30.660608 110.898176 80.744448 182.957056 126.742528 182.957056 41.905152 0 86.367232-58.77248 117.540864-152.296448-42.416128-12.773376-86.368256-29.636608-130.832384-50.081792-15.839232-7.155712-22.99392-26.571776-15.839232-42.416128 7.154688-15.840256 26.571776-22.994944 42.416128-15.840256 52.637696 24.01792 103.743488 42.929152 152.296448 55.191552 8.172544 2.045952 15.328256 7.665664 19.416064 14.821376 4.088832 7.665664 5.624832 16.356352 3.065856 24.52992C659.889152 938.94144 591.407104 1022.75072 512.19456 1022.75072z m0-694.515712c-4.601856 0-9.201664-1.024-13.2864-3.065856-52.640768-24.02304-103.747584-42.929152-152.2944-55.196672-8.178688-2.040832-15.332352-7.665664-19.422208-14.821376-4.088832-7.665664-5.619712-16.351232-3.065856-24.52992C364.499968 84.463616 432.979968 0.649216 512.19456 0.649216c79.213568 0 147.694592 83.8144 188.063744 229.462016 2.046976 8.178688 1.022976 16.863232-3.065856 24.52992-4.088832 7.666688-11.244544 12.778496-19.418112 14.821376-48.551936 12.778496-99.658752 31.173632-152.295424 55.194624-4.087808 2.552832-8.684544 3.577856-13.284352 3.577856zM394.653696 216.824832c38.326272 11.7504 77.677568 26.063872 117.540864 43.951104 39.862272-17.887232 79.213568-32.707584 117.540864-43.951104-31.173632-93.52192-75.63776-152.295424-117.540864-152.295424-41.910272 0-86.36928 58.773504-117.540864 152.295424z m0 0"
                      fill="#1296db" p-id="4385"></path>
                <path d="M197.387264 543.898624c-8.689664 0-16.868352-3.576832-23.000064-9.713664C68.09088 425.84576 30.271488 324.656128 69.62176 256.176128c39.350272-68.482048 146.158592-85.85728 292.835328-48.04096 16.862208 4.599808 27.594752 21.97504 22.99392 38.839296-4.599808 16.867328-21.97504 27.599872-38.838272 22.99904-111.409152-28.617728-198.801408-21.464064-221.796352 18.398208-20.952064 36.28544 7.665664 104.255488 73.076736 177.845248 32.196608-30.150656 68.993024-59.79136 108.855296-88.411136 14.309376-10.21952 34.243584-6.642688 44.464128 7.666688 10.21952 14.308352 6.642688 34.23744-7.665664 44.457984-47.017984 33.219584-88.922112 68.482048-123.676672 104.255488-6.130688 6.134784-14.309376 9.71264-22.482944 9.71264z m601.505792 291.295232c-39.863296 0-85.85728-6.642688-136.963072-19.418112-8.177664-2.045952-15.332352-7.665664-19.421184-14.820352-4.084736-7.666688-5.619712-16.352256-3.065856-24.530944 13.290496-48.551936 22.99904-102.211584 28.111872-159.449088 1.017856-9.197568 5.619712-17.887232 13.285376-22.994944 47.017984-33.219584 88.922112-68.482048 123.672576-104.255488 6.135808-6.135808 14.308352-9.713664 22.99904-9.713664s16.863232 3.576832 23.000064 9.713664c106.29632 107.83232 144.11264 209.528832 104.761344 278.01088-26.571776 44.463104-80.743424 67.458048-156.38016 67.458048z m-89.945088-74.612736c96.587776 19.934208 169.669632 10.732544 190.62272-25.552896 20.952064-36.28544-7.665664-104.255488-73.081856-177.844224-29.130752 27.083776-61.326336 54.171648-97.099776 79.724544-4.596736 43.441152-11.751424 84.83328-20.441088 123.672576z m0 0"
                      fill="#1296db" p-id="4386"></path>
                <path d="M669.597696 816.288768c-2.553856 0-5.112832-0.513024-8.178688-1.024-52.124672-13.285376-106.80832-33.219584-163.022848-59.278336-15.844352-7.155712-23.000064-26.576896-15.844352-42.421248 7.154688-15.840256 26.576896-22.994944 42.416128-15.840256 41.397248 18.906112 82.2784 34.750464 121.117696 46.505984 9.201664-39.862272 16.356352-82.791424 20.446208-128.273408 1.529856-17.380352 17.375232-30.665728 34.74944-29.130752 17.375232 1.53088 30.665728 17.375232 29.130752 34.750464-5.619712 61.326336-15.844352 118.56384-30.153728 170.689536-3.577856 14.820352-16.351232 24.022016-30.660608 24.022016z m157.402112-272.390144c-8.178688 0-16.351232-3.070976-22.48704-9.201664-12.775424-12.2624-12.775424-32.707584-0.513024-44.969984 80.748544-82.2784 118.059008-161.491968 95.058944-201.355264-20.952064-36.28544-94.03392-45.481984-190.62272-25.552896 10.21952 43.439104 17.374208 89.434112 21.976064 138.492928 1.534976 17.380352-11.244544 33.219584-29.130752 34.75456-17.374208 1.53088-33.219584-11.242496-34.74944-29.129728-5.112832-57.237504-14.821376-110.898176-28.107776-159.450112-2.045952-8.178688-1.022976-16.863232 3.065856-24.52992 4.089856-7.666688 11.244544-12.775424 19.418112-14.821376 146.671616-37.81632 253.485056-20.441088 292.835328 48.04096 39.350272 68.48 1.53088 169.670656-104.766464 278.008832-5.112832 6.135808-13.2864 9.713664-21.977088 9.713664zM225.494016 835.193856c-75.635712 0-130.31936-22.994944-155.872256-67.970048-39.350272-68.48-1.53088-169.665536 104.76544-278.008832 6.130688-6.130688 14.309376-9.708544 23.000064-9.708544 8.685568 0 16.863232 3.576832 22.994944 9.708544 35.260416 35.77344 76.658688 70.523904 123.676672 104.255488 7.665664 5.619712 12.2624 13.797376 13.285376 22.99392 5.112832 57.237504 14.821376 110.903296 28.106752 159.450112 2.046976 8.178688 1.024 16.864256-3.065856 24.52992-4.088832 7.666688-11.242496 12.77952-19.421184 14.821376-51.101696 13.285376-97.099776 19.928064-137.469952 19.928064z m-27.088896-278.008832c-65.415168 73.588736-94.03392 141.558784-73.076736 177.844224 20.952064 36.28544 94.0288 45.487104 190.6176 25.552896-9.196544-38.839296-15.839232-80.231424-20.440064-123.671552-35.77344-25.55392-68.481024-52.130816-97.1008-79.725568z m0 0"
                      fill="#1296db" p-id="4387"></path>
                <path d="M698.727424 436.066304c-16.356352 0-30.153728-12.26752-31.683584-29.129728-4.088832-45.487104-10.732544-88.414208-20.446208-128.273408-39.350272 11.7504-79.719424 27.594752-121.117696 46.505984-15.839232 7.153664-34.750464 0.50688-42.416128-15.845376-7.155712-15.844352-0.512-34.74944 15.844352-42.416128 55.702528-25.552896 110.898176-45.487104 163.022848-59.283456 16.863232-4.596736 34.243584 5.624832 38.839296 22.48704 14.309376 52.129792 24.52992 109.367296 30.153728 170.694656 1.53088 17.375232-11.244544 33.214464-29.130752 34.74944-1.024 0.510976-2.041856 0.510976-3.065856 0.510976zM354.7904 816.288768c-13.797376 0-27.088896-9.201664-30.665728-23.51104-14.309376-52.124672-24.52992-109.362176-30.148608-170.689536-1.022976-12.26752 5.107712-24.52992 15.839232-30.665728 10.732544-6.130688 24.01792-5.619712 34.243584 1.536 28.617728 19.928064 58.25536 39.350272 88.410112 56.72448 30.153728 17.375232 61.83936 33.732608 93.010944 48.04096 15.844352 7.155712 23.000064 26.571776 15.844352 42.416128-7.154688 15.845376-26.576896 23.000064-42.416128 15.845376-33.219584-15.332352-66.439168-32.707584-98.635776-51.106816-11.754496-6.643712-22.99904-13.7984-34.74944-20.952064 5.107712 32.195584 11.7504 62.857216 19.928064 91.474944 4.601856 16.863232-5.106688 34.750464-22.48704 39.350272-2.553856 1.537024-5.619712 1.537024-8.173568 1.537024z m0 0"
                      fill="#1296db" p-id="4388"></path>
                <path d="M325.147648 651.218944c-6.130688 0-12.778496-2.046976-18.398208-5.624832-50.081792-35.262464-95.0528-73.076736-132.36224-111.409152-12.26752-12.2624-12.26752-32.196608 0-44.969984 37.81632-38.327296 82.279424-76.147712 132.36224-111.409152 14.309376-10.21952 34.243584-6.642688 44.464128 7.666688 10.21952 14.308352 6.642688 34.23744-7.665664 44.457984-37.30944 26.576896-71.035904 53.660672-101.189632 81.773568 29.642752 28.106752 63.880192 55.190528 101.189632 81.767424 14.308352 10.21952 17.885184 30.148608 7.665664 44.459008-6.136832 8.687616-15.845376 13.288448-26.06592 13.288448z m373.579776 0c-5.622784 0-11.242496-1.536-15.844352-4.088832-10.73152-6.132736-16.862208-18.399232-15.839232-30.666752 3.065856-34.23744 4.596736-69.499904 4.596736-104.76032 0-35.267584-1.53088-70.529024-4.596736-104.766464-1.536-17.375232 11.244544-33.219584 29.130752-34.755584 17.374208-1.529856 33.214464 11.244544 34.74944 29.130752 3.065856 36.28544 5.107712 73.593856 5.107712 110.898176 0 13.290496 0 27.088896-0.50688 40.374272 25.040896-20.441088 48.54784-41.393152 69.499904-62.857216 12.26752-12.778496 32.708608-12.778496 44.975104-0.512 12.773376 12.2624 12.773376 32.707584 0.512 44.969984-37.82144 38.332416-82.28352 76.147712-132.36736 111.409152-6.130688 3.577856-12.773376 5.624832-19.417088 5.624832z m0 0"
                      fill="#1296db" p-id="4389"></path>
                <path d="M325.660672 436.066304c-10.220544 0-19.934208-4.599808-26.064896-13.290496-10.21952-14.309376-6.642688-34.23744 7.666688-44.459008 30.152704-20.952064 61.326336-41.397248 93.522944-59.795456 32.195584-18.394112 64.903168-35.77344 98.629632-51.10272 15.845376-7.154688 34.755584-0.512 42.421248 15.840256 7.155712 15.844352 0.507904 34.75456-15.844352 42.416128-31.683584 14.309376-62.862336 30.665728-93.010944 48.04096-30.153728 17.375232-60.30336 36.796416-88.410112 56.726528-6.136832 3.576832-12.77952 5.623808-18.910208 5.623808z m373.578752 215.15264h-3.065856c-17.380352-1.536-30.666752-17.375232-29.130752-34.755584 3.065856-34.23744 4.596736-69.499904 4.596736-104.76032 0-35.267584-1.53088-70.529024-4.596736-104.766464-1.536-17.375232 11.244544-33.219584 29.130752-34.755584 17.374208-1.529856 33.214464 11.244544 34.74944 29.130752 3.065856 36.28544 5.107712 73.593856 5.107712 110.898176 0 37.308416-1.53088 74.616832-5.107712 110.903296-1.533952 15.839232-15.844352 28.105728-31.683584 28.105728zM512.19456 759.051264c-4.601856 0-9.201664-1.024-13.2864-3.065856-33.219584-15.332352-66.439168-32.707584-98.635776-51.106816-32.195584-18.398208-63.369216-38.839296-93.522944-59.79648-14.308352-10.220544-17.887232-30.148608-7.665664-44.459008 10.21952-14.309376 30.153728-17.887232 44.464128-7.665664 28.617728 19.928064 58.26048 39.350272 88.410112 56.72448 30.153728 17.375232 61.837312 33.732608 93.010944 48.04096 15.844352 7.155712 22.99904 26.571776 15.844352 42.416128-5.113856 12.268544-16.356352 18.912256-28.618752 18.912256z m0-130.320384c-64.393216 0-117.033984-52.635648-117.033984-117.02784 0-64.393216 52.640768-117.033984 117.033984-117.033984 64.392192 0 117.02784 52.640768 117.02784 117.033984 0 64.392192-52.636672 117.02784-117.02784 117.02784z m0-170.181632c-29.130752 0-53.148672 24.02304-53.148672 53.153792 0 29.124608 24.01792 53.147648 53.148672 53.147648 29.129728 0 53.147648-24.02304 53.147648-53.147648 0-29.130752-24.01792-53.153792-53.147648-53.153792z m0 0"
                      fill="#1296db" p-id="4390"></path>
            </svg>
        </div>
        <div class="search">
            <svg t="1646875243253" class="icon" viewBox="0 0 1339 1024" version="1.1"
                 xmlns="http://www.w3.org/2000/svg" p-id="16925" width="1.4rem" height="1.4rem">
                <path d="M549.572923 443.707077a340.755692 340.755692 0 0 1 646.459077 154.230154 332.248615 332.248615 0 0 1-73.255385 207.478154l148.48 152.891077 4.411077 5.750153a36.706462 36.706462 0 0 1-56.398769 45.843693l-148.086154-147.53477-14.651077 10.476308c-128.630154 87.433846-296.723692 82.707692-415.744-13.784615a340.755692 340.755692 0 0 1-91.214769-415.350154z m359.581539-100.352a260.096 260.096 0 0 0-196.765539 470.567385l13.548308 8.585846a260.174769 260.174769 0 0 0 314.604307-38.518154l0.630154-1.732923 0.866462-0.236308 1.417846-0.945231 12.603077-13.23323a247.965538 247.965538 0 0 0 62.227692-169.905231 260.096 260.096 0 0 0-209.132307-254.582154zM387.544615 773.513846l7.089231 0.787692a40.172308 40.172308 0 0 1 32.531692 38.675693 38.990769 38.990769 0 0 1-39.463384 39.227077H45.371077l-7.089231-0.393846a39.384615 39.384615 0 0 1 6.931692-78.217847H387.544615zM300.898462 516.726154l7.08923 0.472615a39.384615 39.384615 0 0 1-6.931692 78.217846H44.110769l-7.089231-0.708923a39.857231 39.857231 0 0 1-32.452923-38.675692 38.990769 38.990769 0 0 1 39.463385-39.227077h256.787692z m86.803692-255.684923l7.010461 0.787692c18.116923 3.702154 31.901538 19.534769 32.531693 38.675692a38.990769 38.990769 0 0 1-39.463385 39.148308H45.371077l-7.089231-0.393846a39.384615 39.384615 0 0 1 6.931692-78.217846h342.409847zM815.497846 3.938462l7.089231 0.472615a39.384615 39.384615 0 0 1-6.931692 78.217846H44.110769l-7.010461-0.787692A40.723692 40.723692 0 0 1 4.568615 43.086769 38.990769 38.990769 0 0 1 44.110769 3.938462h771.465846z"
                      fill="#1890FF" p-id="16926"></path>
            </svg>
        </div>
        <div class="actpub ">
            <svg t="1646874515482" class="icon" viewBox="0 0 1024 1024" version="1.1"
                 xmlns="http://www.w3.org/2000/svg" p-id="5540" width="1.5rem" height="1.5rem">
                <path d="M975.244495 190.474419c-17.224928 0-31.451035 12.287846-31.451035 29.695629v615.416307c0 68.607142-56.721577 123.902451-123.646455 123.902451H202.792437c-68.936281 1.023987-123.683025-55.295309-123.683026-122.878464V220.170048c0-68.607142 56.758148-123.902451 123.683026-123.902451H720.820247c17.188357 0 31.414464-12.287846 31.414464-29.695629 0-17.407782-14.189537-29.695629-31.451035-29.695629H202.829007C102.40512 36.876339 18.291886 120.843289 18.291886 223.242009v615.416308C18.291886 941.057037 100.393717 1024 202.792437 1024h616.330581c102.39872 0 184.500551-82.942963 186.511954-187.389658V220.170048c1.023987-16.383795-14.152966-29.695629-30.353906-29.695629z m-525.122579 340.987738c6.107352 6.143923 12.178133 8.191898 21.320877 8.191897a32.987016 32.987016 0 0 0 21.284305-8.191897L971.185117 52.236147c10.130159-10.239872 10.130159-29.695629 2.047975-43.007462a30.353906 30.353906 0 0 0-43.592598 0L450.121916 489.478682c-12.141563 10.239872-12.141563 29.695629 0 41.983475zM291.00162 691.20416c-17.261499 0-31.451035 12.287846-31.451036 29.695629 0 17.407782 14.189537 29.695629 31.451036 29.695629h438.924799c17.224928 0 31.451035-15.359808 31.451035-29.695629 0-17.407782-14.226108-29.695629-31.451035-29.695629H291.00162z"
                      p-id="5541" fill="#1296db"></path>
            </svg>
        </div>

        <script>
            $(".society").click(function (e) {
                $(".create").fadeIn().siblings().fadeOut();
                $(this).addClass("current").siblings().removeClass("current")
            })

            $(".search").click(function (e) {
                $(".all-search").fadeIn().siblings().fadeOut();
                $(this).addClass("current").siblings().removeClass("current")
            })

            $(".actpub").click(function (e) {
                $(".active-publish").fadeIn().siblings().fadeOut();
                $(this).addClass("current").siblings().removeClass("current")
            })
        </script>
    </div>
    <div class="text-list">
        <p>社团创建</p>
        <p>活动查询</p>
        <p>活动发布</p>
    </div>


    <div class="list">
        <div style="display: none" class="create">
            <form action="/lightapp/Login/Societies.do" method="post" enctype="multipart/form-data">

                <!--表格获取-->
                <div class="title"><b>社团创建表:</b></div>

                <div class="name">
                    <svg t="1646900410647" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="6188" width="0.9rem" height="0.9rem">
                        <path d="M904.065541 0H119.934459A119.989454 119.989454 0 0 0 0.044996 119.889463v784.131082A119.989454 119.989454 0 0 0 119.934459 1023.910008H372.012304c21.118144 0 35.876847-14.758703 35.876846-35.876847s-14.7887-35.886846-35.876846-35.886846H119.934459a48.175766 48.175766 0 0 1-48.12577-48.12577V119.889463a48.175766 48.175766 0 0 1 48.12577-48.12577h784.131082a48.175766 48.175766 0 0 1 48.12577 48.12577v139.987696c0 21.128143 14.758703 35.876847 35.886846 35.876847s35.876847-14.708707 35.876847-35.83685v-139.987697A119.989454 119.989454 0 0 0 904.065541 0z"
                              p-id="6189" fill="#1296db"></path>
                        <path d="M400.009843 476.078157H175.949536c-21.128143 0-35.916843 14.748704-35.916844 35.876847s14.758703 35.876847 35.886846 35.876847H400.009843c21.128143 0 35.886846-14.748704 35.886846-35.876847S421.107989 476.078157 400.009843 476.078157zM958.320773 829.707077A285.494908 285.494908 0 0 0 837.97135 745.784453c65.074281-35.996836 104.720796-102.490992 104.720796-177.734379 0-54.925173-21.078147-106.250662-59.364782-144.537297s-89.612124-59.364782-144.537297-59.364782-106.260661 21.078147-144.547295 59.364782-59.364782 89.612124-59.364783 144.537297c0 75.253386 39.666514 141.727543 104.750794 177.734379-100.24119 36.656778-172.344853 127.228818-185.903661 235.759279l-0.069994 0.479957v6.099464c0 22.158053 18.628363 35.876847 35.886846 35.876847 22.158053 0 35.876847-18.628363 35.876847-35.876847v-2.299798c13.818785-105.830698 107.440557-188.653419 213.361247-188.653419 107.680536 0 199.322481 81.082874 213.361248 188.683417 0.289975 21.568104 18.288393 34.996924 35.216904 35.336894 9.639153 1.459872 18.2084-0.719937 24.80782-6.309446 7.569335-6.409437 11.728969-16.908514 11.728969-29.557402v-0.769932a280.665332 280.665332 0 0 0-65.574236-154.84639zM870.96845 568.050074c0 74.103487-58.044898 132.148385-132.148385 132.148385s-132.148385-57.994903-132.148386-132.148385S664.676581 435.961683 738.780068 435.961683 870.96845 493.956586 870.96845 568.050074zM175.949536 295.794002H567.995079c21.128143 0 35.886846-14.748704 35.886845-35.876846s-14.748704-35.886846-35.886845-35.886846H175.949536c-21.128143 0-35.886846 14.758703-35.886846 35.886846s14.758703 35.876847 35.886846 35.876846z"
                              p-id="6190" fill="#1296db"></path>
                    </svg>

                    <script>
                        $(".name").click(function (e) {
                            $(".name input").focus();
                        })
                    </script>

                    <input required type="text" name="societiesName" placeholder="社团名*">
                </div>

                <div class="user">
                    <div class="header" style="width: 0.9rem; height: 0.9rem"></div>
                    <input required class="createUser" type="text">
                    <input class="createId" name="createId" type="hidden">


                </div>

                <div class="introduction">

                    <svg t="1646902530396" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="4845" width="0.9rem" height="0.9rem">
                        <path d="M643.603 574.542H282.534c-6.575 0-11.875 8.923-11.875 19.875 0 10.96 5.3 19.813 11.875 19.813h361.069c6.56 0 11.864-8.852 11.864-19.813 0-10.962-5.305-19.875-11.864-19.875z m0 0M643.603 482.917H282.534c-6.575 0-11.875 8.887-11.875 19.882 0 10.957 5.3 19.814 11.875 19.814h361.069c6.56 0 11.864-8.858 11.864-19.814 0-10.995-5.305-19.882-11.864-19.882z m0 0M643.603 391.354H282.534c-6.575 0-11.875 8.862-11.875 19.823 0 10.956 5.3 19.849 11.875 19.849h361.069c6.56 0 11.864-8.893 11.864-19.85 0-10.96-5.305-19.822-11.864-19.822z m0 0"
                              p-id="4846" fill="#1296db"></path>
                        <path d="M900.158 178c0-62.308-50.614-113.017-112.829-113.017H234.202c-0.258 0-0.483 0.039-0.764 0.055-0.263-0.016-0.508-0.055-0.771-0.055-60.57 0-109.856 50.709-109.856 113.017v660.709c0 8.328 3.264 16.26 9.085 22.003l89.752 89.056c11.51 11.398 29.718 11.398 41.226 0l91.565-90.85 94.998 94.243c11.512 11.448 29.736 11.448 41.247 0l95.004-94.244 95.012 94.244c5.754 5.71 13.191 8.58 20.598 8.58 7.429 0 14.879-2.87 20.633-8.58l86-85.308c5.806-5.778 9.083-13.706 9.083-21.998V286.96c47.845-13.138 83.144-56.963 83.144-108.961z m-193.3 719.933l-97.303-96.539c-11.766-11.706-30.41-11.706-42.2 0l-97.28 96.539-97.293-96.539c-11.788-11.706-30.431-11.706-42.223 0l-93.765 93.01-61.506-61V170.087c0-29.331 23.184-53.18 51.68-53.18 0.256 0 0.484-0.076 0.718-0.076 0.304 0 0.576 0.077 0.857 0.077h0.106c30.13 0.067 54.616 23.904 54.616 53.179 0 29.323-24.541 53.193-54.722 53.193-16.804 0-30.394 13.98-30.394 31.254 0 17.295 13.59 31.314 30.394 31.314h536v554.829l-57.686 57.255z m67.984-661.969l-473.477-3.028c28.834-14.134 28.854-42.54 28.834-51.081-0.073-31.884-4.91-45.984-13.04-61.698l474.026-0.798c29.74 0 60.765 31.187 60.765 60.085 0 28.89-31.4 55.044-61.138 55.044l-15.97 1.476z m0 0"
                              p-id="4847" fill="#1296db"></path>
                    </svg>

                    <textarea name="introduction" maxlength="200" placeholder="组织介绍*"></textarea>
                </div>

                <div class="home-lnglat">
                    <svg t="1646909900312" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="8838" width="0.9rem" height="0.9rem">
                        <path d="M502.697 7.767c-200.32 0-362.527 162.388-362.527 362.528 0 41.545 7.045 81.464 19.87 118.674v0.542l0.541 1.084a377.572 377.572 0 0 0 22.037 50.216l0.181 0.361 0.18 0.361c3.433 6.322 7.045 12.644 10.839 18.786l0.36 0.542 0.181 0.361 240.06 415.814c30.346 52.383 106.03 52.383 136.196 0l241.143-417.078 1.084-1.626 7.767-13.547c0.361-0.542 0.722-1.084 0.903-1.626l0.18-0.542 0.181-0.361c8.851-16.618 16.618-33.959 22.94-51.841l0.542-1.084v-0.362a363.557 363.557 0 0 0 19.87-118.674c0-200.14-162.388-362.528-362.528-362.528z m0 523.65c-95.192 0-172.141-77.129-172.141-172.14s77.13-172.143 172.141-172.143 172.142 77.13 172.142 172.142-77.13 172.142-172.142 172.142z"
                              fill="#3976FF" p-id="8839"></path>
                    </svg>
                    <p>移动标记，定位社团活动室、日常活动中心</p>

                    <script>
                        $(".home-lnglat").click(function (e) {
                            $(".map-control").toggleClass("active")
                        })
                    </script>

                </div>

                <div class="map-control active">
                    <div id="home-container">
                        <input required name="room_coordinate" type="text">
                        <div class="control">
                            确认
                        </div>

                        <script>
                            $(function () {
                                window.createHomeMap = new AMap.Map('home-container', {
                                    zoom: 15,
                                    center: [113.400721, 23.054315]
                                })


                                window.positionMarker = new AMap.Marker({
                                    // position:new AMap.LngLat(113.400721,23.054315),
                                    position: [113.400721, 23.054315],
                                    title: "靓仔",
                                    // icon: user.headUrl,
                                    draggable: true,
                                    // offset:new AMap.Pixel(-13,-30)
                                })
                                window.createHomeMap.add(positionMarker)


                                $(".map-control .control").click(function (e) {
                                    var pixel = new AMap.Pixel(positionMarker._style.left.replace("px", ""), positionMarker._style.top.replace("px", ""));
                                    var lnglat = window.createHomeMap.containerToLngLat(pixel);

                                    $("#home-container input").val(JSON.stringify([lnglat.lng, lnglat.lat]))
                                })
                            })
                        </script>


                    </div>

                </div>

                <div class="header" style="position: relative">

                    <svg t="1646928097012" class="icon" viewBox="0 0 1243 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="5108" width="0.9rem" height="0.9rem">
                        <path d="M962.194286 728.502857l-91.428572-128a36.571429 36.571429 0 0 0-59.245714 0l-61.44 85.942857-134.948571-192.731428a36.571429 36.571429 0 0 0-59.977143 0l-164.571429 235.154285a36.571429 36.571429 0 0 0-2.56 36.571429 36.571429 36.571429 0 0 0 32.548572 19.748571h512a36.571429 36.571429 0 0 0 29.622857-57.782857z"
                              fill="#1296db" p-id="5109"></path>
                        <path d="M962.194286 728.502857l-182.857143-256a36.571429 36.571429 0 0 0-59.245714 0L658.285714 556.982857l-135.68-193.828571a36.571429 36.571429 0 0 0-59.977143 0l-256 365.714285a36.571429 36.571429 0 0 0 59.977143 41.691429l226.011429-322.925714 226.011428 322.925714a36.571429 36.571429 0 0 0 29.988572 15.725714 36.571429 36.571429 0 0 0 29.988571-57.417143l-75.702857-109.714285 45.714286-64 153.234286 214.308571a36.571429 36.571429 0 0 0 29.622857 15.36 36.571429 36.571429 0 0 0 21.211428-6.948571 36.571429 36.571429 0 0 0 9.508572-49.371429zM374.857143 182.857143h-36.571429a36.571429 36.571429 0 0 1 0-73.142857h36.571429a36.571429 36.571429 0 0 1 0 73.142857z"
                              fill="#1296db" p-id="5110"></path>
                        <path d="M1133.714286 1024H109.714286a109.714286 109.714286 0 0 1-109.714286-109.714286V219.428571a109.714286 109.714286 0 0 1 109.714286-109.714285h82.285714a36.571429 36.571429 0 0 1 0 73.142857H109.714286a36.571429 36.571429 0 0 0-36.571429 36.571428v694.857143a36.571429 36.571429 0 0 0 36.571429 36.571429h1024a36.571429 36.571429 0 0 0 36.571428-36.571429V219.428571a36.571429 36.571429 0 0 0-36.571428-36.571428H557.714286a36.571429 36.571429 0 0 1 0-73.142857H1133.714286a109.714286 109.714286 0 0 1 109.714285 109.714285v694.857143a109.714286 109.714286 0 0 1-109.714285 109.714286z"
                              fill="#1296db" p-id="5111"></path>
                        <path d="M914.285714 182.857143m-146.285714 0a146.285714 146.285714 0 1 0 292.571429 0 146.285714 146.285714 0 1 0-292.571429 0Z"
                              fill="#1296db" p-id="5112"></path>
                        <path d="M914.285714 0a182.857143 182.857143 0 1 0 182.857143 182.857143 182.857143 182.857143 0 0 0-182.857143-182.857143z m0 292.571429a109.714286 109.714286 0 1 1 109.714286-109.714286 109.714286 109.714286 0 0 1-109.714286 109.714286z"
                              fill="#1296db" p-id="5113"></path>
                    </svg>

                    <p style="position: absolute ;top: -0.25rem ;left: 2.5rem;font-size: 12px">社团头像</p>

                    <input required type="file" name="head_url">
                </div>

                <div>
                    <input class="submit" type="submit" value="提交申请">
                </div>

            </form>
        </div>

        <div style="display: block" class="all-search">
            <div class="title">
                <b class="title-societies current">社团查找</b>
                <b class="title-active">活动查找</b>
                <script>
                    $(".all-search .title b").click(function (e) {
                        $(this).addClass("current").siblings().removeClass("current");
                    })

                    $(".title-active").click(function (e) {
                        $(".searchList-societies").fadeOut();
                        $(".searchList-societies-show").fadeOut();
                        $(".searchList-active-show").fadeOut();
                        $(".searchList-active").fadeIn();
                    })

                    $(".title-societies").click(function (e) {
                        $(".searchList-societies").fadeIn();
                        $(".searchList-societies-show").fadeOut();
                        $(".searchList-active-show").fadeOut();
                        $(".searchList-active").fadeOut();
                    })
                </script>
            </div>

            <div style="display: none" class="searchList-societies-show">

                <div class="headerUrl"></div>
                <div class="create-title-message">
                    <div class="header"></div>

                    <div class="message">
                        <div class="societies-Name">社团名：<span></span></div>
                        <div class="create-Id">创建者Id：<span></span></div>
                        <div class="create-Name">创建者名称：<span></span></div>
                    </div>
                </div>
                <div class="introduction">
                    <p>介绍:</p>
                    <p class="message"></p>
                </div>

                <div class="container-title">活动室或社团日常活动地点:</div>
                <div id="societies-container">


                    <script>
                        function flushShow(roomCoordinate) {
                            let Map = new AMap.Map('societies-container', {
                                zoom: 15,
                                center: JSON.parse(roomCoordinate)
                            })


                            let marker = new AMap.Marker({
                                // position:new AMap.LngLat(113.400721,23.054315),
                                position: JSON.parse(roomCoordinate),
                                title: "靓仔",
                                // icon: user.headUrl,
                                draggable: true,
                                // offset:new AMap.Pixel(-13,-30)
                            })
                            Map.add(marker)
                        }
                    </script>


                </div>
                <div class="return-message" style="display: none"></div>
                <div class="control">
                    <div class="return">
                        <svg t="1647209697315" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="3906" width="0.9rem" height="0.9rem">
                            <path d="M922.414347 541.92659c-22.816658-4.136204-44.669362 11.131525-48.744167 33.961486C848.775186 715.222471 744.263901 828.403207 607.404883 864.238366c-194.136535 50.939159-393.551284-65.632813-444.484304-259.810281-50.891064-194.2184 65.701374-393.634172 259.899308-444.532399 94.063329-24.65554 192.099133-11.213389 276.05629 37.879726 83.957157 49.079812 143.771451 127.915321 168.428014 221.97865 5.873778 22.433942 28.806069 35.855626 51.288107 29.981848 22.441105-5.879917 35.868929-28.840862 29.981848-51.288107-30.345122-115.771747-103.963817-212.796524-207.284997-273.212522-103.334483-60.402695-224.009913-76.983325-339.774497-46.611597C162.504094 141.264351 19.012006 386.695133 81.650625 625.733321 134.37443 826.783313 316.408323 960.216301 515.146667 960.216301c37.503149 0 75.616188-4.752234 113.550149-14.700817 168.420851-44.101427 297.04737-183.387727 327.679018-354.844727C960.457802 567.827493 945.251472 546.008558 922.414347 541.92659z"
                                  p-id="3907" fill="#1296db"></path>
                            <path d="M764.584716 512.088004c0-23.199375-18.803251-42.009789-42.009789-42.009789l-285.425681-0.01228 120.806413-120.806413c16.409738-16.403598 16.409738-43.001373 0-59.403948-16.396435-16.409738-43.007513-16.409738-59.403948 0L306.45974 481.948567c-0.153496 0.148379-0.334621 0.245593-0.485047 0.397043-10.261715 10.261715-14.100136 24.515347-11.520381 37.767162 1.534959 7.953136 5.380544 15.547091 11.540847 21.705348 0.080841 0.081864 0.180102 0.13303 0.261966 0.214894l192.294584 192.266955c8.204869 8.197706 18.953677 12.301164 29.702486 12.301164 10.748808 0 21.503756-4.102435 29.708626-12.307304 16.403598-16.403598 16.403598-43.007513-0.007163-59.411111L437.143105 554.085514l285.432845 0.01228C745.775324 554.097794 764.584716 535.287379 764.584716 512.088004z"
                                  p-id="3908" fill="#1296db"></path>
                        </svg>
                        <p>返回</p>
                    </div>

                    <div class="submit submit1">
                        <svg t="1647210503810" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="4815" width="0.9rem" height="0.9rem">
                            <path d="M607.232 896a32 32 0 1 1 0 64H192a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h544a96 96 0 0 1 96 96 32 32 0 0 1-64 0 32 32 0 0 0-32-32H192a32 32 0 0 0-32 32v704a32 32 0 0 0 32 32h415.232zM832 585.76v146.656c0 42.656-64 42.656-64 0v-146.656c0-42.688 64-42.688 64 0z"
                                  p-id="4816" fill="#ffffff"></path>
                            <path d="M288 320a32 32 0 1 1 0-64h224a32 32 0 0 1 0 64H288zM288 480a32 32 0 0 1 0-64h128a32 32 0 0 1 0 64H288zM639.424 926.592a32 32 0 1 1-64 0L576 800a96 96 0 0 1 96-96l127.744 1.152a32 32 0 1 1 0 64L672 768a32 32 0 0 0-32 32l-0.576 126.592z"
                                  p-id="4817" fill="#ffffff"></path>
                            <path d="M637.92 947.648a32 32 0 1 1-44.32-46.208l180.384-172.992a32 32 0 1 1 44.288 46.176l-180.352 173.024zM880.896 334.528a31.424 31.424 0 0 0 3.328-44.416l-0.416-0.512a32 32 0 0 0-44.896-3.36L408.32 652.288l-15.2 51.84 58.336-4.544 429.44-365.056z m51.616-86.4a95.36 95.36 0 0 1-9.408 134.496l-438.08 372.448a32 32 0 0 1-18.24 7.52l-114.944 8.896a32 32 0 0 1-33.184-40.928l30.944-105.472a32 32 0 0 1 9.984-15.36L797.408 237.504a96 96 0 0 1 134.688 10.112l0.416 0.512z"
                                  p-id="4818" fill="#ffffff"></path>
                        </svg>
                        <p>申请加入</p>

                        <script>
                            $(".searchList-societies-show .submit1").click(function () {
                                $.ajax({
                                    url: "/lightapp/Login/Societies.do",
                                    data: {
                                        type: "join",
                                        societiesId: currentsocietiesShow.societiesId
                                    },
                                    dataType: "json",
                                    success: function (result) {
                                        $(".searchList-societies-show .return-message").text(result.message)
                                        $(".searchList-societies-show .submit2").fadeIn();
                                        $(".searchList-societies-show .submit1").fadeOut();
                                    }
                                })

                            })
                        </script>
                    </div>

                    <div class="submit submit2" style="display: none">
                        <svg t="1647210503810" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="4815" width="0.9rem" height="0.9rem">
                            <path d="M607.232 896a32 32 0 1 1 0 64H192a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h544a96 96 0 0 1 96 96 32 32 0 0 1-64 0 32 32 0 0 0-32-32H192a32 32 0 0 0-32 32v704a32 32 0 0 0 32 32h415.232zM832 585.76v146.656c0 42.656-64 42.656-64 0v-146.656c0-42.688 64-42.688 64 0z"
                                  p-id="4816" fill="#ffffff"></path>
                            <path d="M288 320a32 32 0 1 1 0-64h224a32 32 0 0 1 0 64H288zM288 480a32 32 0 0 1 0-64h128a32 32 0 0 1 0 64H288zM639.424 926.592a32 32 0 1 1-64 0L576 800a96 96 0 0 1 96-96l127.744 1.152a32 32 0 1 1 0 64L672 768a32 32 0 0 0-32 32l-0.576 126.592z"
                                  p-id="4817" fill="#ffffff"></path>
                            <path d="M637.92 947.648a32 32 0 1 1-44.32-46.208l180.384-172.992a32 32 0 1 1 44.288 46.176l-180.352 173.024zM880.896 334.528a31.424 31.424 0 0 0 3.328-44.416l-0.416-0.512a32 32 0 0 0-44.896-3.36L408.32 652.288l-15.2 51.84 58.336-4.544 429.44-365.056z m51.616-86.4a95.36 95.36 0 0 1-9.408 134.496l-438.08 372.448a32 32 0 0 1-18.24 7.52l-114.944 8.896a32 32 0 0 1-33.184-40.928l30.944-105.472a32 32 0 0 1 9.984-15.36L797.408 237.504a96 96 0 0 1 134.688 10.112l0.416 0.512z"
                                  p-id="4818" fill="#ffffff"></path>
                        </svg>
                        <p>已加入</p>
                    </div>
                </div>
                <script>
                    $(".searchList-societies-show .return").click(function (e) {
                        $(".searchList-societies").fadeIn();
                        $(".searchList-societies-show").fadeOut();
                    })
                </script>
            </div>

            <div style="display: flex" class="searchList-societies">

                <script>
                    window.societiesStartIndex = 1;
                    window.societiesFlag = true;
                    window.societiesValues = []
                    window.societiesValuesIndex = 0

                    function createSocietiesNode(value) {

                        for (let i = 0; i < value.length; i++) {
                            let newNode = $("<div>\n" +
                                "                        <div class=\"head\"  style=\"background-image: url(' " + value[i].headerUrl + " ');background-size: cover\"></div>\n" +
                                "                        <div class=\"message\">\n" +
                                "                            <p>" + value[i].societiesName + ":(Id: <span>" + value[i].societiesId + "</span>)</p>\n" +
                                "                            <div class=\"message-title\">《<span>" + value[i].introduction + "</span>》</div>\n" +
                                "                            <div class=\"header-box\">\n" +
                                "                                <div class=\"create-head\" style=\"background-image: url(" + value[i].createHeadUrl + ")\"></div>\n" +
                                "                                \n" +
                                "                                <div class=\"createMessage\">\n" +
                                "                                    <div class=\"createName\">name: <span>" + value[i].createName + "</span></div>\n" +
                                "                                    <div class=\"createId\">Id: <span>" + value[i].createId + "</span></div>\n" +
                                "                                </div>\n" +
                                "                                \n" +
                                "                                <div data-index=" + window.societiesValuesIndex + " class=\"join\">查看</div>\n" +
                                "                            </div>\n" +
                                "                            \n" +
                                "                        </div>\n" +
                                "                    </div>")

                            window.societiesValuesIndex++;
                            // newNode.css("backgroundImage", "url(" + window.user.headUrl + ")")

                            window.societiesValues.push(value[i])

                            newNode.find(".join").click(function (e) {
                                window.currentsocietiesShow = window.societiesValues[$(this).data("index")]

                                flushShow(currentsocietiesShow.roomCoordinate)
                                $(".searchList-societies-show").find(".headerUrl").css("backgroundImage", "url('" + currentsocietiesShow.headerUrl + "')")
                                $(".searchList-societies-show").find(".header").css("backgroundImage", "url('" + currentsocietiesShow.createHeadUrl + "')")
                                $(".searchList-societies-show").find(".societies-Name span").text(currentsocietiesShow.societiesName)
                                $(".searchList-societies-show").find(".create-Id span").text(currentsocietiesShow.createId)
                                $(".searchList-societies-show").find(".create-Name span").text(currentsocietiesShow.createName)
                                $(".searchList-societies-show").find(".introduction .message").text(currentsocietiesShow.introduction)

                                $.ajax({
                                    url: "/lightapp/Login/Societies.do",
                                    data: {
                                        type: "searchJoin",
                                        societiesId: currentsocietiesShow.societiesId
                                    },
                                    dataType: "json",
                                    success: function (result) {
                                        console.log("触发")

                                        if (result.message === "false") {
                                            console.log("触发")
                                            $(".searchList-societies-show .submit1").fadeIn();
                                            $(".searchList-societies-show .submit2").fadeOut();
                                        } else {
                                            console.log("触发true")
                                            $(".searchList-societies-show .submit2").fadeIn();
                                            $(".searchList-societies-show .submit1").fadeOut();
                                        }
                                    },
                                })


                                $(".searchList-societies").fadeOut();
                                $(".searchList-societies-show").fadeIn();
                            })

                            $(".list .searchList-societies").append(newNode)
                        }
                    }

                    $(window).scroll(function (e) {
                        let scrollTop = $(this).scrollTop();
                        let scrollHeight = $(document).height();
                        let clientHeight = $(this).height();
                        if (scrollTop + clientHeight >= scrollHeight) {
                            if (societiesFlag) {
                                if ($(".searchList-societies").css("display") !== "none") {
                                    $.ajax({
                                        url: "/lightapp/Login/Societies.do",
                                        data: {
                                            type: "getSocietiesList",
                                            page: societiesStartIndex
                                        },
                                        dataType: "json",
                                        success: function (result) {
                                            if (result.message === "full") {

                                                window.societiesStartIndex += 1;
                                                createSocietiesNode(result.value)

                                                console.log(result)
                                                // 创建节点

                                            } else if (result.message === "end") {
                                                /*创建节点，最后一次所以两个都要*/
                                                console.log(result)
                                                window.societiesStartIndex += 1;
                                                createSocietiesNode(result.value)

                                                window.societiesFlag = false;
                                            } else {
                                                /*提示查找完成*/
                                                console.log(result)

                                                window.societiesFlag = false;
                                            }

                                        }
                                    })
                                }
                            }
                        }

                    })
                    $(function (e) {
                        $(window).scrollTop(5);
                    })
                </script>
            </div>

            <div style="display: none" class="searchList-active-show">
                <div class="headerUrl"></div>
                <div class="create-title-message">
                    <div class="header"></div>
                    <div class="message">
                        <div class="active-Name">活动名称：<span></span></div>
                        <div class="create-Id">发起者Id：<span></span></div>
                        <div class="create-Name">发起者名称：<span></span></div>
                    </div>
                </div>
                <div class="introduction">
                    <p>活动说明:</p>
                    <p class="message"></p>
                </div>

                <div class="container-title">活动地点:</div>
                <div id="activeList-container">
                    <script>
                        function flushShowActive(coordinate) {
                            let Map = new AMap.Map('activeList-container', {
                                zoom: 15,
                                center: JSON.parse(coordinate)
                            })


                            let marker = new AMap.Marker({
                                position: JSON.parse(coordinate),
                                title: "靓仔",
                                draggable: true,
                            })
                            Map.add(marker)
                        }
                    </script>
                </div>
                <div class="return-message" style="display: none"></div>

                <div class="control">
                    <div class="return">
                        <svg t="1647209697315" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="3906" width="0.9rem" height="0.9rem">
                            <path d="M922.414347 541.92659c-22.816658-4.136204-44.669362 11.131525-48.744167 33.961486C848.775186 715.222471 744.263901 828.403207 607.404883 864.238366c-194.136535 50.939159-393.551284-65.632813-444.484304-259.810281-50.891064-194.2184 65.701374-393.634172 259.899308-444.532399 94.063329-24.65554 192.099133-11.213389 276.05629 37.879726 83.957157 49.079812 143.771451 127.915321 168.428014 221.97865 5.873778 22.433942 28.806069 35.855626 51.288107 29.981848 22.441105-5.879917 35.868929-28.840862 29.981848-51.288107-30.345122-115.771747-103.963817-212.796524-207.284997-273.212522-103.334483-60.402695-224.009913-76.983325-339.774497-46.611597C162.504094 141.264351 19.012006 386.695133 81.650625 625.733321 134.37443 826.783313 316.408323 960.216301 515.146667 960.216301c37.503149 0 75.616188-4.752234 113.550149-14.700817 168.420851-44.101427 297.04737-183.387727 327.679018-354.844727C960.457802 567.827493 945.251472 546.008558 922.414347 541.92659z"
                                  p-id="3907" fill="#1296db"></path>
                            <path d="M764.584716 512.088004c0-23.199375-18.803251-42.009789-42.009789-42.009789l-285.425681-0.01228 120.806413-120.806413c16.409738-16.403598 16.409738-43.001373 0-59.403948-16.396435-16.409738-43.007513-16.409738-59.403948 0L306.45974 481.948567c-0.153496 0.148379-0.334621 0.245593-0.485047 0.397043-10.261715 10.261715-14.100136 24.515347-11.520381 37.767162 1.534959 7.953136 5.380544 15.547091 11.540847 21.705348 0.080841 0.081864 0.180102 0.13303 0.261966 0.214894l192.294584 192.266955c8.204869 8.197706 18.953677 12.301164 29.702486 12.301164 10.748808 0 21.503756-4.102435 29.708626-12.307304 16.403598-16.403598 16.403598-43.007513-0.007163-59.411111L437.143105 554.085514l285.432845 0.01228C745.775324 554.097794 764.584716 535.287379 764.584716 512.088004z"
                                  p-id="3908" fill="#1296db"></path>
                        </svg>
                        <p>返回</p>
                    </div>

                    <div class="submit submit1">
                        <svg t="1647210503810" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="4815" width="0.9rem" height="0.9rem">
                            <path d="M607.232 896a32 32 0 1 1 0 64H192a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h544a96 96 0 0 1 96 96 32 32 0 0 1-64 0 32 32 0 0 0-32-32H192a32 32 0 0 0-32 32v704a32 32 0 0 0 32 32h415.232zM832 585.76v146.656c0 42.656-64 42.656-64 0v-146.656c0-42.688 64-42.688 64 0z"
                                  p-id="4816" fill="#ffffff"></path>
                            <path d="M288 320a32 32 0 1 1 0-64h224a32 32 0 0 1 0 64H288zM288 480a32 32 0 0 1 0-64h128a32 32 0 0 1 0 64H288zM639.424 926.592a32 32 0 1 1-64 0L576 800a96 96 0 0 1 96-96l127.744 1.152a32 32 0 1 1 0 64L672 768a32 32 0 0 0-32 32l-0.576 126.592z"
                                  p-id="4817" fill="#ffffff"></path>
                            <path d="M637.92 947.648a32 32 0 1 1-44.32-46.208l180.384-172.992a32 32 0 1 1 44.288 46.176l-180.352 173.024zM880.896 334.528a31.424 31.424 0 0 0 3.328-44.416l-0.416-0.512a32 32 0 0 0-44.896-3.36L408.32 652.288l-15.2 51.84 58.336-4.544 429.44-365.056z m51.616-86.4a95.36 95.36 0 0 1-9.408 134.496l-438.08 372.448a32 32 0 0 1-18.24 7.52l-114.944 8.896a32 32 0 0 1-33.184-40.928l30.944-105.472a32 32 0 0 1 9.984-15.36L797.408 237.504a96 96 0 0 1 134.688 10.112l0.416 0.512z"
                                  p-id="4818" fill="#ffffff"></path>
                        </svg>
                        <p>申请加入</p>

                        <script>
                            $(".searchList-active-show .submit1").click(function () {
                                $.ajax({
                                    url: "/lightapp/Login/ActiveList.do",
                                    data: {
                                        type: "join",
                                        activeId: currentActiveShow.id
                                    },
                                    dataType: "json",
                                    success: function (result) {
                                        $(".searchList-active-show .return-message").text(result.message)
                                        $(".searchList-active-show .submit2").fadeIn();
                                        $(".searchList-active-show .submit1").fadeOut();

                                        $.ajax({
                                            url: "/lightapp/Login/GetUserJsonServlet.do",
                                            dataType: "json",
                                            async : false,
                                            success: function (result) {
                                                window.user = result
                                            }
                                        })
                                    }
                                })

                            })
                        </script>
                    </div>

                    <div class="submit submit2" style="display: none">
                        <svg t="1647210503810" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="4815" width="0.9rem" height="0.9rem">
                            <path d="M607.232 896a32 32 0 1 1 0 64H192a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h544a96 96 0 0 1 96 96 32 32 0 0 1-64 0 32 32 0 0 0-32-32H192a32 32 0 0 0-32 32v704a32 32 0 0 0 32 32h415.232zM832 585.76v146.656c0 42.656-64 42.656-64 0v-146.656c0-42.688 64-42.688 64 0z"
                                  p-id="4816" fill="#ffffff"></path>
                            <path d="M288 320a32 32 0 1 1 0-64h224a32 32 0 0 1 0 64H288zM288 480a32 32 0 0 1 0-64h128a32 32 0 0 1 0 64H288zM639.424 926.592a32 32 0 1 1-64 0L576 800a96 96 0 0 1 96-96l127.744 1.152a32 32 0 1 1 0 64L672 768a32 32 0 0 0-32 32l-0.576 126.592z"
                                  p-id="4817" fill="#ffffff"></path>
                            <path d="M637.92 947.648a32 32 0 1 1-44.32-46.208l180.384-172.992a32 32 0 1 1 44.288 46.176l-180.352 173.024zM880.896 334.528a31.424 31.424 0 0 0 3.328-44.416l-0.416-0.512a32 32 0 0 0-44.896-3.36L408.32 652.288l-15.2 51.84 58.336-4.544 429.44-365.056z m51.616-86.4a95.36 95.36 0 0 1-9.408 134.496l-438.08 372.448a32 32 0 0 1-18.24 7.52l-114.944 8.896a32 32 0 0 1-33.184-40.928l30.944-105.472a32 32 0 0 1 9.984-15.36L797.408 237.504a96 96 0 0 1 134.688 10.112l0.416 0.512z"
                                  p-id="4818" fill="#ffffff"></path>
                        </svg>
                        <p>已加入</p>
                    </div>
                </div>

                <script>
                    $(".searchList-active-show .return").click(function (e) {
                        $(".searchList-active").fadeIn();
                        $(".searchList-active-show").fadeOut();
                    })
                </script>
            </div>

            <div style="display: none" class="searchList-active">
                <script>
                    window.activeStartIndex = 1;
                    window.activeFlag = true;
                    window.activeValues = []
                    window.activeValuesIndex = 0


                    function createActiveListNode(value) {

                        for (let i = 0; i < value.length; i++) {

                            let newNode = $("<div>\n" +
                                "                        <div class=\"head\" style=\"background-image: url('" + value[i].headUrl + "');background-size: cover\"></div>\n" +
                                "                        <div class=\"message\">\n" +
                                "                            <p>" + value[i].activeName + " :(活动id: <span>" + value[i].id + "</span>)</p>\n" +
                                "                            <div class=\"message-title\">\n" +
                                "                                " + value[i].introduction + "\n" +
                                "                            </div>\n" +
                                "                            <div class=\"header-box\">\n" +
                                "                                <div class=\"create-head\" style=\"background-image: url(" + value[i].createHeadUrl + ")\"></div>\n" +
                                "                                <div class=\"createMessage\">\n" +
                                "                                    <div class=\"createName\">name: <span>" + value[i].crateName + "</span></div>\n" +
                                "                                    <div class=\"createId\">id : <span>" + value[i].createId + "</span></div>\n" +
                                "                                </div>\n" +
                                "                                <div  data-index=" + window.activeValuesIndex + "   class=\"join\">查看</div>\n" +
                                "                            </div>\n" +
                                "                        </div>\n" +
                                "                    </div>")

                            window.activeValues.push(value[i])
                            window.activeValuesIndex += 1;

                            $(".searchList-active").append(newNode)

                            newNode.find(".join").click(function (e) {
                                window.currentActiveShow = window.activeValues[$(this).data("index")]

                                flushShowActive(currentActiveShow.coordinate)
                                $(".searchList-active-show").find(".headerUrl").css("backgroundImage", "url('" + currentActiveShow.headUrl + "')")
                                $(".searchList-active-show").find(".header").css("backgroundImage", "url('" + currentActiveShow.createHeadUrl + "')")
                                $(".searchList-active-show").find(".active-Name span").text(currentActiveShow.activeName)
                                $(".searchList-active-show").find(".create-Id span").text(currentActiveShow.createId)
                                $(".searchList-active-show").find(".create-Name span").text(currentActiveShow.crateName)
                                $(".searchList-active-show").find(".introduction .message").text(currentActiveShow.introduction)

                                $.ajax({
                                    url: "/lightapp/Login/ActiveList.do",
                                    data: {
                                        type: "searchJoin",
                                        activeId: currentActiveShow.id
                                    },
                                    dataType: "json",
                                    success: function (result) {
                                        console.log("触发")

                                        if (result.message === "false") {
                                            $(".searchList-active-show .submit1").fadeIn();
                                            $(".searchList-active-show .submit2").fadeOut();
                                        } else {
                                            $(".searchList-active-show .submit2").fadeIn();
                                            $(".searchList-active-show .submit1").fadeOut();
                                        }
                                    },
                                })


                                $(".searchList-active").fadeOut();
                                $(".searchList-active-show").fadeIn();
                            })

                        }
                    }


                    $(window).scroll(function (e) {
                        let scrollTop = $(this).scrollTop();
                        let scrollHeight = $(document).height();
                        let clientHeight = $(this).height();
                        if (scrollTop + clientHeight >= scrollHeight) {
                            console.log()
                            if ($(".searchList-active").css("display") === "none") {

                            } else {
                                if (activeFlag) {
                                    $.ajax({
                                        url: "/lightapp/Login/ActiveList.do",
                                        data: {
                                            type: "getActiveList",
                                            page: activeStartIndex
                                        },
                                        dataType: "json",
                                        success: function (result) {
                                            if (result.message === "full") {

                                                window.activeStartIndex += 1;
                                                console.log(result)
                                                // 创建节点
                                                createActiveListNode(result.value);

                                            } else if (result.message === "end") {
                                                /*创建节点，最后一次所以两个都要*/
                                                console.log(result)
                                                window.activeStartIndex += 1;
                                                createActiveListNode(result.value);

                                                window.activeFlag = false;
                                            } else {
                                                /*提示查找完成*/
                                                console.log(result)
                                                window.activeFlag = false;
                                            }

                                        }
                                    })
                                }
                            }

                        }

                    })
                    $(function (e) {
                        $(window).scrollTop(5);
                    })
                </script>
            </div>

        </div>

        <div style="display: none" class="active-publish">
            <form action="/lightapp/Login/ActiveList.do" method="post" enctype="multipart/form-data">

                <div class="title"><b>活动发布:</b></div>

                <p>定位:(标点编号输入后不看自定义标点坐标)</p>
                <div id="active-container">
                    <input class="active-coordinate" name="coordinate" required type="text">
                    <input class="count" type="text" placeholder="标点编号">
                    <div class="control">
                        确认
                    </div>
                </div>

                <p>搜索：</p>
                <div class="search">
                    <input id="select" placeholder="搜索地点">
                </div>

                <div id="panel"></div>
                <script>
                    window.activeHomeMap = new AMap.Map('active-container', {
                        zoom: 15,
                        center: [113.400721, 23.054315]
                    })


                    window.activepositionMarker = new AMap.Marker({
                        // position:new AMap.LngLat(113.400721,23.054315),
                        position: [113.400721, 23.054315],
                        title: "靓仔",
                        // icon: user.headUrl,
                        draggable: true,
                        // offset:new AMap.Pixel(-13,-30)
                    })
                    window.activeHomeMap.add(activepositionMarker)

                    $("#active-container .control").click(function (e) {

                        let count = $(".count").val()
                        if (count !== "") {

                            switch (count) {
                                case "1" :
                                    $("#active-container .active-coordinate").val(JSON.stringify([searchResult.poiList.pois[0].location.lng, searchResult.poiList.pois[0].location.lat]));
                                    $(".active-publish .class-name input").val(searchResult.poiList.pois[0].name);
                                    break
                                case "2" :
                                    $("#active-container .active-coordinate").val(JSON.stringify([searchResult.poiList.pois[1].location.lng, searchResult.poiList.pois[1].location.lat]));
                                    $(".active-publish .class-name input").val(searchResult.poiList.pois[1].name);
                                    break
                                case "3" :
                                    $("#active-container .active-coordinate").val(JSON.stringify([searchResult.poiList.pois[2].location.lng, searchResult.poiList.pois[2].location.lat]));
                                    $(".active-publish .class-name input").val(searchResult.poiList.pois[2].name);
                                    break
                                default :
                                    alert("输入的数字1-3")
                            }


                        } else {
                            var pixel = new AMap.Pixel(activepositionMarker._style.left.replace("px", ""), activepositionMarker._style.top.replace("px", ""));
                            var lnglat = window.activeHomeMap.containerToLngLat(pixel);

                            $("#active-container .active-coordinate").val(JSON.stringify([lnglat.lng, lnglat.lat]))
                        }
                    })

                    AMap.plugin(["AMap.PlaceSearch", 'AMap.AutoComplete'], function () {

                        /*初始化查询对象*/
                        var auto = new AMap.AutoComplete({
                            city: "广州",
                            input: "select"
                        });

                        //构造地点查询类
                        var placeSearch = new AMap.PlaceSearch({
                            pageSize: 3, // 单页显示结果条数
                            pageIndex: 1, // 页码
                            city: "广州", // 兴趣点城市
                            citylimit: true,  //是否强制限制在设置的城市内搜索
                            map: window.activeHomeMap, // 展现结果的地图实例
                            panel: "panel", // 结果列表将在此容器中进行展示。
                            autoFitView: true // 是否自动调整地图视野使绘制的 Marker点都处于视口的可见范围
                        });

                        // 关键字查询
                        placeSearch.search("广东农工商职业技术学院", function (status, result) {
                            window.searchResult = result;
                        });

                        auto.on("select", select);//注册监听，当选中某条记录时会触发
                        $("#select").blur(function (e) {
                            placeSearch.search($(this).val(), function (status, result) {
                                window.searchResult = result;
                            });
                        })

                        function select(e) {
                            placeSearch.setCity(e.poi.adcode);
                            placeSearch.search(e.poi.name);  //关键字查询查询
                        }
                    });


                </script>

                <p>创建用户：（已默认）</p>
                <div class="user">
                    <div class="header" style="width: 0.9rem; height: 0.9rem"></div>

                    <input id="userId" type="hidden" required name="createId">
                    <input class="user-name" type="text" disabled>
                </div>

                <p>活动名称 <span>*</span> ：</p>
                <div class="name">
                    <input type="text" name="activeName" required placeholder="活动名称">
                    <svg t="1646900410647" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="6188" width="0.9rem" height="0.9rem">
                        <path d="M904.065541 0H119.934459A119.989454 119.989454 0 0 0 0.044996 119.889463v784.131082A119.989454 119.989454 0 0 0 119.934459 1023.910008H372.012304c21.118144 0 35.876847-14.758703 35.876846-35.876847s-14.7887-35.886846-35.876846-35.886846H119.934459a48.175766 48.175766 0 0 1-48.12577-48.12577V119.889463a48.175766 48.175766 0 0 1 48.12577-48.12577h784.131082a48.175766 48.175766 0 0 1 48.12577 48.12577v139.987696c0 21.128143 14.758703 35.876847 35.886846 35.876847s35.876847-14.708707 35.876847-35.83685v-139.987697A119.989454 119.989454 0 0 0 904.065541 0z"
                              p-id="6189" fill="#1296db"></path>
                        <path d="M400.009843 476.078157H175.949536c-21.128143 0-35.916843 14.748704-35.916844 35.876847s14.758703 35.876847 35.886846 35.876847H400.009843c21.128143 0 35.886846-14.748704 35.886846-35.876847S421.107989 476.078157 400.009843 476.078157zM958.320773 829.707077A285.494908 285.494908 0 0 0 837.97135 745.784453c65.074281-35.996836 104.720796-102.490992 104.720796-177.734379 0-54.925173-21.078147-106.250662-59.364782-144.537297s-89.612124-59.364782-144.537297-59.364782-106.260661 21.078147-144.547295 59.364782-59.364782 89.612124-59.364783 144.537297c0 75.253386 39.666514 141.727543 104.750794 177.734379-100.24119 36.656778-172.344853 127.228818-185.903661 235.759279l-0.069994 0.479957v6.099464c0 22.158053 18.628363 35.876847 35.886846 35.876847 22.158053 0 35.876847-18.628363 35.876847-35.876847v-2.299798c13.818785-105.830698 107.440557-188.653419 213.361247-188.653419 107.680536 0 199.322481 81.082874 213.361248 188.683417 0.289975 21.568104 18.288393 34.996924 35.216904 35.336894 9.639153 1.459872 18.2084-0.719937 24.80782-6.309446 7.569335-6.409437 11.728969-16.908514 11.728969-29.557402v-0.769932a280.665332 280.665332 0 0 0-65.574236-154.84639zM870.96845 568.050074c0 74.103487-58.044898 132.148385-132.148385 132.148385s-132.148385-57.994903-132.148386-132.148385S664.676581 435.961683 738.780068 435.961683 870.96845 493.956586 870.96845 568.050074zM175.949536 295.794002H567.995079c21.128143 0 35.886846-14.748704 35.886845-35.876846s-14.748704-35.886846-35.886845-35.886846H175.949536c-21.128143 0-35.886846 14.758703-35.886846 35.886846s14.758703 35.876847 35.886846 35.876846z"
                              p-id="6190" fill="#1296db"></path>
                    </svg>

                    <script>
                        $(".name").click(function (e) {
                            $(".name input").focus();
                        })
                    </script>


                </div>

                <p>活动介绍<span>*</span> ：</p>
                <div class="introduction">
                    <textarea name="introduction" maxlength="200" placeholder="活动介绍"></textarea>
                    <svg t="1646902530396" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="4845" width="0.9rem" height="0.9rem">
                        <path d="M643.603 574.542H282.534c-6.575 0-11.875 8.923-11.875 19.875 0 10.96 5.3 19.813 11.875 19.813h361.069c6.56 0 11.864-8.852 11.864-19.813 0-10.962-5.305-19.875-11.864-19.875z m0 0M643.603 482.917H282.534c-6.575 0-11.875 8.887-11.875 19.882 0 10.957 5.3 19.814 11.875 19.814h361.069c6.56 0 11.864-8.858 11.864-19.814 0-10.995-5.305-19.882-11.864-19.882z m0 0M643.603 391.354H282.534c-6.575 0-11.875 8.862-11.875 19.823 0 10.956 5.3 19.849 11.875 19.849h361.069c6.56 0 11.864-8.893 11.864-19.85 0-10.96-5.305-19.822-11.864-19.822z m0 0"
                              p-id="4846" fill="#1296db"></path>
                        <path d="M900.158 178c0-62.308-50.614-113.017-112.829-113.017H234.202c-0.258 0-0.483 0.039-0.764 0.055-0.263-0.016-0.508-0.055-0.771-0.055-60.57 0-109.856 50.709-109.856 113.017v660.709c0 8.328 3.264 16.26 9.085 22.003l89.752 89.056c11.51 11.398 29.718 11.398 41.226 0l91.565-90.85 94.998 94.243c11.512 11.448 29.736 11.448 41.247 0l95.004-94.244 95.012 94.244c5.754 5.71 13.191 8.58 20.598 8.58 7.429 0 14.879-2.87 20.633-8.58l86-85.308c5.806-5.778 9.083-13.706 9.083-21.998V286.96c47.845-13.138 83.144-56.963 83.144-108.961z m-193.3 719.933l-97.303-96.539c-11.766-11.706-30.41-11.706-42.2 0l-97.28 96.539-97.293-96.539c-11.788-11.706-30.431-11.706-42.223 0l-93.765 93.01-61.506-61V170.087c0-29.331 23.184-53.18 51.68-53.18 0.256 0 0.484-0.076 0.718-0.076 0.304 0 0.576 0.077 0.857 0.077h0.106c30.13 0.067 54.616 23.904 54.616 53.179 0 29.323-24.541 53.193-54.722 53.193-16.804 0-30.394 13.98-30.394 31.254 0 17.295 13.59 31.314 30.394 31.314h536v554.829l-57.686 57.255z m67.984-661.969l-473.477-3.028c28.834-14.134 28.854-42.54 28.834-51.081-0.073-31.884-4.91-45.984-13.04-61.698l474.026-0.798c29.74 0 60.765 31.187 60.765 60.085 0 28.89-31.4 55.044-61.138 55.044l-15.97 1.476z m0 0"
                              p-id="4847" fill="#1296db"></path>
                    </svg>


                </div>

                <p>活动地点名称<span>*</span> ：</p>
                <div class="class-name">
                    <input type="text" name="className" required placeholder="地点">
                    <svg t="1646991984681" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="3235" width="0.9rem" height="0.9rem">
                        <path d="M85.333333 469.717333C85.333333 451.829333 99.658667 437.333333 117.333333 437.333333s32 14.506667 32 32.384V786.133333c0 5.962667 4.778667 10.794667 10.666667 10.794667a10.56 10.56 0 0 0 5.045333-1.28l154.848-84.021333a73.898667 73.898667 0 0 1 72.853334 1.290666l252.544 148.842667a10.56 10.56 0 0 0 10.122666 0.341333l213.333334-107.264c3.626667-1.824 5.92-5.568 5.92-9.664V469.717333C874.666667 451.829333 888.992 437.333333 906.666667 437.333333s32 14.506667 32 32.384V745.173333c0 28.682667-16.053333 54.890667-41.44 67.658667l-213.333334 107.264a73.898667 73.898667 0 0 1-70.805333-2.378667L360.533333 768.896a10.56 10.56 0 0 0-10.410666-0.192l-154.848 84.032a73.973333 73.973333 0 0 1-35.285334 8.96c-41.237333 0-74.666667-33.813333-74.666666-75.552V469.717333z m672-132.266666c0 87.808-73.173333 192.917333-217.056 320.288a42.666667 42.666667 0 0 1-56.554666 0C339.829333 530.378667 266.666667 425.258667 266.666667 337.450667 266.666667 203.968 376.64 96 512 96s245.333333 107.968 245.333333 241.450667z m-426.666666 0c0 61.514667 59.712 149.557333 181.333333 259.701333 121.621333-110.144 181.333333-198.186667 181.333333-259.701333C693.333333 239.584 612.277333 160 512 160s-181.333333 79.573333-181.333333 177.450667zM512 405.333333a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"
                              p-id="3236" fill="#1296db"></path>
                    </svg>


                </div>

                <p>活动发布人群<span>*</span> ：<span> (左为个人活动，右为集体活动)</span></p>
                <div class="people">
                    <!--个人1，集体0-->
                    <input name="people" id="people-1" style="display: none" type="radio" value="0">
                    <label class="people-1" for="people-1">
                        <span class="iconfont icon-geren"></span>
                    </label>

                    <input name="people" id="people-2" style="display: none" type="radio" checked value="1">
                    <label class="people-2" for="people-2">
                        <span class="iconfont icon-organization"></span>
                    </label>


                </div>

                <p>活动图片上传<span>*</span> ：</p>
                <div class="file-upload">
                    <svg t="1647145853220" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="19095" width="0.9rem" height="0.9rem">
                        <path d="M908.608411 145.162124 272.47523 145.162124c-36.982286 0-67.070558 30.088272-67.070558 67.070558l0 44.969191-60.260455 0c-36.269042 0-65.784262 29.514197-65.784262 65.784262l0 456.640158c0 36.270065 29.514197 65.784262 65.784262 65.784262L769.843998 845.410556c36.271088 0 65.785286-29.514197 65.785286-65.784262l0-46.254463 72.978105 0c36.983309 0 67.070558-30.089295 67.070558-67.071581L975.677946 212.232682C975.67897 175.250396 945.590698 145.162124 908.608411 145.162124zM769.843998 817.400618 145.14524 817.400618c-20.828374 0-37.775348-16.945951-37.775348-37.774325l0-82.471316 181.381024-181.38921 193.922664 221.62561 141.43115-84.850503 175.336354 150.274562C792.520463 811.630195 781.894452 817.400618 769.843998 817.400618zM807.618323 772.945127l-180.613544-154.821111L488.336556 701.333136 290.119075 474.798726 107.369891 657.547911 107.369891 322.986135c0-20.828374 16.946974-37.774325 37.775348-37.774325L769.843998 285.21181c20.829398 0 37.774325 16.945951 37.774325 37.774325L807.618323 772.945127zM947.670056 666.300248c0 21.541619-17.520025 39.061644-39.061644 39.061644l-72.978105 0L835.630307 322.986135c0-36.270065-29.514197-65.784262-65.785286-65.784262L233.414609 257.201873l0-44.969191c0-21.540595 17.520025-39.060621 39.060621-39.060621l636.133182 0c21.541619 0 39.061644 17.520025 39.061644 39.060621L947.670056 666.300248 947.670056 666.300248zM639.558699 369.241622c-46.336328 0-84.028788 37.692461-84.028788 84.029812 0 46.335305 37.692461 84.027765 84.028788 84.027765 46.338375 0 84.030835-37.692461 84.030835-84.027765C723.589534 406.934083 685.897074 369.241622 639.558699 369.241622zM639.558699 509.292332c-30.894637 0-56.019875-25.133424-56.019875-56.019875 0-30.889521 25.125237-56.019875 56.019875-56.019875 30.895661 0 56.019875 25.131377 56.019875 56.019875C695.578574 484.159932 670.455383 509.292332 639.558699 509.292332z"
                              p-id="19096"></path>
                    </svg>
                    <label for="active-file-upload">
                        <svg t="1647146084944" class="icon" viewBox="0 0 1024 1024" version="1.1"
                             xmlns="http://www.w3.org/2000/svg" p-id="20015" width="0.8rem" height="0.8rem">
                            <path d="M186.636724 430.268534c4.909823 0 9.82374-1.855254 13.596669-5.573949l306.881342-302.44838 0 648.318712c0 10.698666 8.67252 19.371186 19.371186 19.371186s19.371186-8.67252 19.371186-19.371186l0-647.568628 302.538431 298.121841c3.773953 3.718695 8.683776 5.572926 13.594623 5.572926 5.004991 0 10.007935-1.927909 13.798261-5.774517 7.509021-7.620561 7.41897-19.884886-0.201591-27.393907L540.528754 63.354933c-3.354398-3.306302-7.608282-5.134951-11.961426-5.501294-0.684592-0.073678-1.378393-0.115634-2.081405-0.115634-0.328481 0-0.648776 0.032746-0.974188 0.049119-4.989641-0.061398-10.001795 1.788739-13.837146 5.568832L173.039032 397.101133c-7.619538 7.509021-7.708566 19.774369-0.199545 27.393907C176.629813 428.341648 181.631734 430.268534 186.636724 430.268534z"
                                  p-id="20016" fill="#1296db"></path>
                            <path d="M876.833219 705.913455c-10.698666 0-19.371186 8.67252-19.371186 19.371186l0 165.41847c0 13.05534-10.620895 23.676236-23.676236 23.676236l-618.946754 0c-13.05534 0-23.676236-10.620895-23.676236-23.676236L191.162808 725.284641c0-10.698666-8.67252-19.371186-19.371186-19.371186s-19.371186 8.67252-19.371186 19.371186l0 165.41847c0 34.417881 28.000728 62.417585 62.417585 62.417585l618.946754 0c34.417881 0 62.417585-27.999704 62.417585-62.417585L896.202359 725.284641C896.204405 714.585975 887.531885 705.913455 876.833219 705.913455z"
                                  p-id="20017" fill="#1296db"></path>
                        </svg>
                        <p>选择文件</p>
                    </label>

                    <script>
                        let fileInterval = setInterval(function (e) {
                            if ($("#active-file-upload").val() != "") {
                                $(".file-upload label p").text("文件已经上传！")
                                $(".file-upload label").addClass("current")
                                clearInterval(fileInterval);
                            }
                        }, 1000)
                    </script>
                    <input style="display: none" id="active-file-upload" name="headUrl" required type="file">
                </div>

                <p>活动时间<span>*</span> ：<span id="timeMessage">(年月日)</span></p>
                <div class="time1">
                    年：<input type="text" required placeholder="YYYY">
                    月：<input type="text" required placeholder="MM">
                    日：<input type="text" required placeholder="DD">

                    <script>
                        function getWeek(dataTime) {
                            var dateDiff = dataTime.getTime() - new Date("2022-02-21 00:00:00").getTime();//时间差的毫秒数
                            var difftime = dateDiff / 1000; //计算时间差,并把毫秒转换成秒
                            var days = parseInt(difftime / 86400);

                            return parseInt((days / 7))
                        }

                        $(".active-publish .time1 input").blur(function (e) {
                            let year = $(".active-publish .time1 input").eq(0).val()
                            let month = $(".active-publish .time1 input").eq(1).val()
                            let day = $(".active-publish .time1 input").eq(2).val()

                            if (year != "" && month != "" && day != "") {
                                let time = (year + "-" + month + "-" + day)

                                let dateTime = new Date(time)
                                console.log(dateTime)
                                if (dateTime != "Invalid Date") {
                                    let week = getWeek(dateTime);
                                    let indexDay = dateTime.getDay();
                                    $("#timeMessage").text("部分信息已经帮助填写")

                                    $(".active-publish .week .course-message .index-week").eq(week).addClass("current").siblings().removeClass("current")

                                    $(".active-publish .week .course-message input").val(indexDay == 0 ? 7 : indexDay)

                                } else {
                                    $("#timeMessage").text("请输入正确的时间格式!")
                                }

                            }
                        })


                    </script>
                </div>

                <p>活动时间<span>*</span> ：<span id="message">(时分秒)</span></p>
                <div class="time2">
                    <input type="text" required placeholder="HH">:
                    <input type="text" required placeholder="MM">

                    <svg t="1647146873092" class="icon" viewBox="0 0 1024 1024" version="1.1"
                         xmlns="http://www.w3.org/2000/svg" p-id="22165" width="20px" height="20px">
                        <path d="M837.9904 570.0608H124.5696a29.0304 29.0304 0 0 1-29.0304-29.0304V482.9696a29.0304 29.0304 0 0 1 29.0304-29.0304h713.4208z"
                              fill="#879fbe" p-id="22166"></path>
                        <path d="M561.3056 808.96l-40.96-40.96a28.928 28.928 0 0 1 0-40.96l215.04-215.04-215.04-215.04a28.9792 28.9792 0 0 1 0-40.96l40.96-40.96a28.9792 28.9792 0 0 1 40.96 0l296.96 296.96-296.96 296.96a28.9792 28.9792 0 0 1-40.96 0z"
                              fill="#879fbe" p-id="22167"></path>
                    </svg>

                    <input type="text" required placeholder="HH">:
                    <input type="text" required placeholder="MM">

                    <!--时间解析-->
                    <script>
                        function getDayTime(startTime, endTime) {

                            /*判断是否输入出错*/
                            let extraHH = endTime[0] - startTime[0]
                            if (extraHH > 0) {
                                let extraMM = endTime[1] - startTime[1]

                                /*返回对象*/
                                let dayTimeSimple = {}
                                dayTimeSimple.height = ((extraHH * 60 + extraMM) * 2 - 5)
                                dayTimeSimple.top = ((startTime[0] - 8) * 60 + startTime[1] - 30) * 2

                                $("#message").text("时间存储完成")
                                return dayTimeSimple;


                            } else if (extraHH === 0) {
                                let extraMM = endTime[1] - startTime[1]
                                if (extraMM > 0) {
                                    let dayTimeSimple = {}
                                    dayTimeSimple.height = extraMM * 2 - 5
                                    dayTimeSimple.top = ((startTime[0] - 8) * 60 + startTime[1] - 30) * 2

                                    $("#message").text("时间存储完成")
                                    return dayTimeSimple;

                                } else {
                                    $("#message").text("请输入数字")
                                }
                            } else {
                                $("#message").text("结束时间必须大于开始时间")
                            }
                        }

                        $(".active-publish .time2 input").blur(function (e) {
                            let startHH = $(".active-publish .time2 input").eq(0).val()
                            let startMM = $(".active-publish .time2 input").eq(1).val()
                            let endHH = $(".active-publish .time2 input").eq(2).val()
                            let endMM = $(".active-publish .time2 input").eq(3).val()

                            if (startHH != "" && startMM != "" && endHH != "" && endMM != "") {
                                let startTime = [Number.parseInt(startHH), Number.parseInt(startMM)]
                                let endTime = [Number.parseInt(endHH), Number.parseInt(endMM)]
                                if (isNaN(startTime[0]) || isNaN(startTime[1]) || isNaN(endTime[0]) || isNaN(endTime[1])) {
                                    $("#message").text("请输入数字")
                                } else {
                                    /*完成了dayTime的存储*/
                                    let dayTime = [startTime, endTime]
                                    let dayTimeSimple = getDayTime(startTime, endTime);

                                    $("#dayTime").val(JSON.stringify(dayTime))
                                    $("#dayTimeSimple").val(JSON.stringify(dayTimeSimple))
                                }

                            }
                        })

                    </script>


                    <input id="dayTime" type="hidden" required name="dayTime">
                    <input id="dayTimeSimple" type="hidden" required name="dayTimeSimple">
                </div>

                <p>星期选择<span>*</span> ：<span>(选择活动星期和具体星期几)</span></p>
                <div class="week">
                    <div class="course-message">
                        <div class="line">
                            <div class="index-week" data-index="1">1</div>
                            <div class="index-week" data-index="2">2</div>
                            <div class="index-week" data-index="3">3</div>
                            <div class="index-week" data-index="4">4</div>
                            <div class="index-week" data-index="5">5</div>
                            <div class="index-week" data-index="6">6</div>
                        </div>
                        <div class="line">
                            <div class="index-week" data-index="7">7</div>
                            <div class="index-week" data-index="8">8</div>
                            <div class="index-week" data-index="9">9</div>
                            <div class="index-week" data-index="10">10</div>
                            <div class="index-week" data-index="11">11</div>
                            <div class="index-week" data-index="12">12</div>
                        </div>
                        <div class="line">
                            <div class="index-week" data-index="13">13</div>
                            <div class="index-week" data-index="14">14</div>
                            <div class="index-week" data-index="15">15</div>
                            <div class="index-week" data-index="16">16</div>
                            <div class="index-week" data-index="17">17</div>
                            <div class="index-week" data-index="18">18</div>
                        </div>
                        <div class="line">
                            <div class="index-week" data-index="19">19</div>
                            <div class="index-week" data-index="20">20</div>
                            <div class="blank"></div>
                            <div class="blank"></div>
                            <div class="blank">星期：</div>
                            <input name="day" required class="blank" type="text">
                        </div>
                    </div>

                    <input type="hidden" name="week" required>
                    <script>
                        $(".active-publish .week .index-week").click(function () {
                            $(this).toggleClass("current")
                        })
                    </script>
                </div>


                <div class="submit">
                    <input class="submit-button" type="button" value="提交">
                    <input class="submit" style="display: none" type="submit">

                    <script>
                        $(".active-publish .submit .submit-button").click(function (e) {
                            e.preventDefault()
                            let weekValue = []
                            let currents = $(".active-publish .week .current");
                            for (let i = 0; i < currents.length; i++) {
                                weekValue.push([currents.eq(i).data("index")])
                            }

                            $(".active-publish .week>input").val(JSON.stringify(weekValue));

                            $(".active-publish .submit").click();



                        })
                    </script>
                </div>

            </form>
        </div>
    </div>


    <div class="blank" style="height: 1.6rem"></div>
</div>